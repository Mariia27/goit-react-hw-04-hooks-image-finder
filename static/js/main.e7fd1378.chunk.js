(this["webpackJsonpgoit-react-hw-04-hooks-image-finder"]=this["webpackJsonpgoit-react-hw-04-hooks-image-finder"]||[]).push([[0],{18:function(e,t,n){},4:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(5),o=n.n(r),i=(n(18),n(11)),s=n(3),u=n(9);n(19);var l={imagesFetch:function(e,t){return fetch("".concat("https://pixabay.com/api/","?").concat("key=20827583-1f7c3553a3c0826f0532a84e0","&q=").concat(e,"&page=").concat(t,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043e\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u044e\u0442"))}))}},j=n(12),b=n.n(j),m=(n(4),n(1));function h(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(s.a)(n,2),r=a[0],o=a[1],i=b.a.generate();return Object(m.jsx)("header",{className:"Searchbar",children:Object(m.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r.trim()),o("")):u.b.error("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u0456\u043c'\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a.")},children:[Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(m.jsx)("span",{className:"SearchForm-button-label",children:"\u041f\u043e\u0448\u0443\u043a"})}),Object(m.jsx)("input",{id:i,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"\u041f\u043e\u0448\u0443\u043a \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u044c \u0442\u0430 \u0444\u043e\u0442\u043e",name:"name",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}function d(e){var t=e.webformatURL,n=e.tags,c=e.largeImageURL,a=e.onClick;return Object(m.jsx)("li",{onClick:function(){return a(c,n)},className:"ImageGalleryItem",children:Object(m.jsx)("img",{src:t,alt:n,className:"ImageGalleryItem-image"})})}function f(e){var t=e.arrayImages,n=e.onSubmit;return Object(m.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,c=e.webformatURL,a=e.largeImageURL,r=e.tags;return Object(m.jsx)(d,{webformatURL:c,tags:r,largeImageURL:a,onClick:n},t)}))})}var O=n(2),g=n.n(O);function p(e){var t=e.onClose;e.children;Object(c.useEffect)((function(){return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}),[]);var n=function(e){"Escape"===e.code&&t()},a=document.querySelector("#modal-root");return Object(r.createPortal)(Object(m.jsx)("div",{className:"Overlay",children:Object(m.jsx)("div",{className:"Modal",children:this.props.children})}),a)}p.prototype={onClose:g.a.func.isRequired,children:g.a.string.isRequired};var x=n(13),v=n.n(x);function S(){return Object(m.jsx)("div",{className:"loader",children:Object(m.jsx)(v.a,{type:"BallTriangle",color:"#00BFFF",height:200,width:200})})}var w=function(e){var t=e.children,n=e.onClick;return Object(m.jsx)("div",{className:"containerBtn-loadMore",children:Object(m.jsx)("button",{className:"Button",onClick:n,children:t})})};function y(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),o=Object(s.a)(r,2),j=o[0],b=o[1],d=Object(c.useState)(!1),O=Object(s.a)(d,2),g=O[0],x=O[1],v=Object(c.useState)(null),y=Object(s.a)(v,2),N=y[0],k=y[1],C=Object(c.useState)(1),I=Object(s.a)(C,2),F=I[0],L=I[1],E=Object(c.useState)(!1),R=Object(s.a)(E,2),U=R[0],B=R[1],q=Object(c.useState)(null),T=Object(s.a)(q,2),G=(T[0],T[1]);Object(c.useEffect)((function(){""!==n&&M()}),[n]);var M=function(){x(!0),l.imagesFetch(n,F,j).then((function(e){return J(e.hits)})).catch((function(e){return G(e)})).finally((function(){return x(!1)}),L((function(e){return e+1})))},J=function(e){b(e===[]?e:function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})},P=function(){L(1),b([])};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(h,{onSubmit:function(e){P(),a(e)}}),0===j.length&&Object(m.jsx)("div",{className:"container-paragraphInfo",children:Object(m.jsxs)("p",{className:"paragraphInfo",children:["\u0422\u0430\u043a\u0438\u0445 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a ","".concat(n)," \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0430\u0431\u043e \u0432\u0438 \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u0456\u043c'\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a."]})}),j&&Object(m.jsx)(f,{arrayImages:j,onSubmit:function(e,t){k([e,t]),B(!0)}}),U&&Object(m.jsx)(p,{onClose:function(){B(!U)},children:Object(m.jsx)("img",{src:N[0],alt:N[1]})}),Object(m.jsx)(u.a,{autoClose:3e3}),g&&Object(m.jsx)(S,{}),0!==j.length&&Object(m.jsx)(w,{onClick:function(){M(),setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)},children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0449\u0435"})]})}o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.e7fd1378.chunk.js.map