{"version":3,"sources":["services/FetchAPI.js","components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Modal.js","components/Loader.js","components/Button.js","App.js","index.js"],"names":["api","imagesFetch","nameImage","page","fetch","then","r","ok","json","Promise","reject","Error","Searchbar","onSubmit","useState","setNameImage","keySearch","shortid","generate","className","e","preventDefault","trim","toast","error","type","id","autoComplete","autoFocus","placeholder","name","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGallery","arrayImages","map","Modal","onClose","children","useEffect","window","addEventListener","exitModal","removeEventListener","code","modalRoot","document","querySelector","createPortal","this","props","prototype","PropTypes","func","isRequired","string","LoaderFunc","color","height","width","Button","Finder","imagesArray","setImagesArray","loading","setLoading","selectedImage","setSelectedImage","setPage","showModal","setShowModal","setError","searchImagesFetch","Api","imagesArrayFetch","checkNewFetchImagesArray","hits","catch","finally","prevState","reset","length","currentImage","autoClose","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e7fd1378.chunk.js","sourcesContent":["const KEY = \"key=20827583-1f7c3553a3c0826f0532a84e0\";\nconst GENERAL_LINK = \"https://pixabay.com/api/\";\nfunction imagesFetch(nameImage, page) {\n\n  return fetch(\n    `${GENERAL_LINK}?${KEY}&q=${nameImage}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((r) => {\n    if (r.ok) {\n      return r.json();\n    }\n    return Promise.reject(new Error(\"Картинки с таким именем отсутсвуют\"));\n  });\n}\nconst api = {\n  imagesFetch,\n};\n\nexport default api;\n","// import React, { Component } from \"react\";\nimport { useState } from \"react\";\nimport shortid from \"shortid\";\nimport { toast } from \"react-toastify\";\n\nimport \"./styles.css\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [nameImage, setNameImage] = useState(\"\");\n  const onValueInput = (e) => {\n    setNameImage(e.currentTarget.value.toLowerCase());\n  };\n\n  const onSubmitFetch = (e) => {\n    e.preventDefault();\n\n    if (nameImage.trim() === \"\") {\n      toast.error(\"Введіть будь ласка ім'я картинок.\");\n\n      return;\n    }\n    onSubmit(nameImage.trim());\n    setNameImage(\"\");\n  };\n\n  const keySearch = shortid.generate();\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={onSubmitFetch}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Пошук</span>\n        </button>\n        <input\n          id={keySearch}\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Пошук зображень та фото\"\n          name=\"name\"\n          value={nameImage}\n          onChange={onValueInput}\n        />\n      </form>\n    </header>\n  );\n}\n\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./styles.css\";\n\nexport default function ImageGalleryItem({\n  webformatURL,\n  tags,\n  largeImageURL,\n  onClick,\n}) {\n  return (\n    <li\n      onClick={() => onClick(largeImageURL, tags)}\n      className=\"ImageGalleryItem\"\n    >\n      <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\n    </li>\n  );\n}\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n\n  onClick: PropTypes.func.isRequired,\n};","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./styles.css\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\n\nexport default function ImageGallery({ arrayImages, onSubmit }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {arrayImages.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          tags={tags}\n          largeImageURL={largeImageURL}\n          onClick={onSubmit}\n        />\n      ))}\n    </ul>\n  );\n}\nImageGallery.propTypes = {\n  arrayImages: PropTypes.array.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport \"./styles.css\";\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", exitModal);\n    return () => window.removeEventListener(\"keydown\", exitModal);\n  }, []);\n\n  const exitModal = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  };\n  const modalRoot = document.querySelector(\"#modal-root\");\n\n  return createPortal(\n    <div className=\"Overlay\">\n      <div className=\"Modal\">{this.props.children}</div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.prototype = {\n  onClose: PropTypes.func.isRequired,\n  children: PropTypes.string.isRequired,\n};","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport \"./styles.css\";\n\nexport default function LoaderFunc() {\n  return (\n    <div className=\"loader\">\n      <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={200} width={200} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./styles.css\";\n\nfunction Button({ children, onClick }) {\n  return (\n    <div className=\"containerBtn-loadMore\">\n      <button className=\"Button\" onClick={onClick}>\n        {children}\n      </button>\n    </div>\n  );\n}\nexport default Button;\nButton.propTypes = {\n  children: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Api from \"./services/FetchAPI\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGalleryItem from \"./components/ImageGallery\";\nimport Modal from \"./components/Modal\";\nimport Loader from \"./components/Loader\";\nimport Button from \"./components/Button\";\nimport \"./components/styles.css\";\n\nexport default function Finder() {\n  const [nameImage, setNameImage] = useState(\"\");\n  const [imagesArray, setImagesArray] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (nameImage === \"\") {\n      return;\n    }\n    searchImagesFetch();\n  }, [nameImage]);\n\n  const searchImagesFetch = () => {\n    setLoading(true);\n\n    Api.imagesFetch(nameImage, page, imagesArray)\n      .then((imagesArrayFetch) =>\n        checkNewFetchImagesArray(imagesArrayFetch.hits)\n      )\n      .catch((error) => setError(error))\n      .finally(\n        () => setLoading(false),\n        setPage((prevState) => prevState + 1)\n      );\n  };\n  const checkNewFetchImagesArray = (imagesArrayFetch) => {\n    imagesArrayFetch === []\n      ? setImagesArray(imagesArrayFetch)\n      : setImagesArray((prevState) => [...prevState, ...imagesArrayFetch]);\n  };\n\n  const togleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const isHendleFormaSubmit = (nameImage) => {\n    reset();\n\n    setNameImage(nameImage);\n  };\n  const reset = () => {\n    setPage(1);\n    setImagesArray([]);\n  };\n\n  const isCurrentImage = (currentImage, tags) => {\n    setSelectedImage([currentImage, tags]);\n    setShowModal(true);\n  };\n  const scrollGallery = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }, 1000);\n  };\n\n  const onClickLoadMore = () => {\n    searchImagesFetch();\n    scrollGallery();\n  };\n  return (\n    <>\n      <Searchbar onSubmit={isHendleFormaSubmit} />\n      {imagesArray.length === 0 && (\n        <div className=\"container-paragraphInfo\">\n          <p className=\"paragraphInfo\">\n            Таких картинок {`${nameImage}`} не знайдено або ви не ввели ім'я\n            картинок.\n          </p>\n        </div>\n      )}\n\n      {imagesArray && (\n        <ImageGalleryItem arrayImages={imagesArray} onSubmit={isCurrentImage} />\n      )}\n      {showModal && (\n        <Modal onClose={() => togleModal()}>\n          <img src={selectedImage[0]} alt={selectedImage[1]} />\n        </Modal>\n      )}\n\n      <ToastContainer autoClose={3000} />\n      {loading && <Loader />}\n\n      {imagesArray.length !== 0 && (\n        <Button onClick={onClickLoadMore}>Завантажити ще</Button>\n      )}\n    </>\n  );\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport Finder from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Finder />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}